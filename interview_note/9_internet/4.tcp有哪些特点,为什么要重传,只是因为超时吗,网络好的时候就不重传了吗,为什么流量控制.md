# tcp有哪些特点
  - 面向连接: 双方通过建立连接后,可以进行数据的发送和接收,而且在连接建立之前需要进行一系列的握手过程,这确保了数据的可靠传输,并且提供了一种可靠的机制
  - 可靠性: tcp通过序列号、确认应答、重传来保证数据传输的可靠性,确保数据的完整性、顺序性和不丢失
  - 全双工通信: 允许通信双方同时进行数据的发送和接收
  - 流量控制: tcp使用流量控制机制确保发送方发送的数据不会超过接收方的处理能力,避免因接收方无法及时处理而导致的数据丢失;

# tcp为什么要重传,只是因为超时吗.网络好的时候就不重传了吗
  - 超时重传,指发送方在一定时间内没有接收到接收方的ack确认,就会认为数据丢失,会触发超时重传机制,重新发送响应的数据包
  - 网络好的情况也不能避免丢包,丢包才是重传的原因,个人理解;
  - TCP快速重传,要理解这个概念,我们需要引入另外两个新的概念:
    - 可用窗口: tcp的可用窗口是指接收端告知发送端它当前可以接受的数据量的大小,这个窗口大小会动态调整,以适应网络状况的和接收端的处理能力
    - 重传队列: 当发送方向接收方发送一段数据后,该段数据就会存储在重传队列中,等接收方的确认ack抵达,就可以从重传队列中将该部分数据删除;
    那么TCP的快速重传是什么情况呢,我们假设当前发送方a有5个数据包{1,2,3,4,5},并且与接收方建立了连接;
      - a发送1  1进入a的重传队列  ----> b接收到1  b会发给a一个1的确认ack    ---->   a收到1的确认ack   将1移除重传队列   这是标准情况,也是正常情况
      - a发送2  2进入a的重传队列  ----> b接收到2  b会发给a一个2的确认ack    ---->   a收到2的确认ack   将2移除重传队列   这是标准情况,也是正常情况
      - a发送3  3进入a的重传队列  --数据丢失-->
        但需要注意,此时发送方是不感知数据丢失的,所以会继续发送
      - a发送4  4进入a的重传队列  ----> b接收到4  b发现两次接收到的数据序列号不连续,判断数据丢失  那么此时根据tcp确认原则,应当回复前方连续序列号的最后一段即 b会发给a一个2的确认ack
        此时对于发送方来说,这是他收到的第二个ack2,但只是第二个,没到阈值,继续发送
      - a发送5  5进入a的重传队列  ----> b接收到5  b发现还是没有补上缺失的那段序列,会继续给a发送ack2;
        此时对于发送方来说,连续接收到3个相同的ack2,这是发送方意识到数据3没有成功发送过去,此时会去重传队列中找到数据3,并发送,而接收方发现序列号已经补齐,就会将缓存的ack5发送给发送方,
      发送方拿到ack5,根据tcp确认原则,认为这就是接收方确认的最后一段连续序列号,则会将345都从重传队列中删除,这个特点就是快
    快速重传算法的触发条件:就是连续收到三个相同的ack以后触发快速重传算法,立即重传,无需定时器