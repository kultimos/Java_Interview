# 对于亿级表,如果要新增或修改索引,应该怎么做
  - 当需要对亿级大表进行索引的添加或更换,直接在原表上操作可能会引起性能问题或影响系统的可用性(直接加索引会锁表);为了避免这些问题,大公司通常会采用
  以下步骤

  ## 建新表
  - 创建一张新表,该表的结构与原表相似,但可以包含新的索引或更改后的字段;
  `create table temp_algo like tb_algo`

  ## 数据复制
  - 将原表中的数据复制到新表中
  `insert into temp_algo select * from tb_algo`

  ## 重命名
  - 数据复制完成后,将原表重命名为'older_tb_algo',将新表重命名为'tb_algo',这样可以最大化的减少系统的停机时间(修改数据库表名会加锁)
  
  ## 数据打平
  - 在重命名后,应用程序将会开始使用新的表,此时,原表的备份表'older_tb_algo',可以用于回滚或其他检查;在这一步骤完成后,可以开始验证新表的性能和功能,确保它能正常工作且满足业务需求

  ## 清理
  - 在确认新表完全正常工作且不需要旧表的数据后,可以删除旧表备份,释放存储空间