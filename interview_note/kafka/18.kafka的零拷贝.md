# kafka的零拷贝
  零拷贝不是不需要拷贝,而是减少不必要的拷贝次数,通常使用IO读写过程中,常规应用程序IO过程会经历四次拷贝;
  1)从磁盘中去读取目标文件的内容,拷贝到内核缓冲区
  2)CPU控制器把内核缓冲区中的数据拷贝到用户空间的缓冲区
  3)在应用程序中调用write方法把用户空间缓冲区中的数据拷贝到内核空间中的Socket Buffer中
  4)把在内核模式下的Socket Buffer中的数据赋值到网卡缓冲区NIC Buffer中
  最后网卡缓冲区再把数据传输到目标服务器上,在这个过程中可以发现数据从磁盘到最终发出去一共经历四次拷贝,但其中有两次拷贝是浪费的,即
2从内核空间拷贝到用户空间和3从用户空间拷贝到内核空间,并且在过程中内核空间和用户空间的切换也会带来Cpu上下文切换,从而对性能造成影响;
  而零拷贝就是把这两次拷贝忽略,应用程序可以直接把磁盘中的数据从内核中直接传输到Socket Buffer;
  零拷贝通过DMA(Direct Memory Access)把文件内容复制到内核空间的Read Buffer中,接着把包含数据长度和位置信息的文件描述符加载到
Socket Buffer中,DMA引擎直接可以把数据从内核空间传递到网卡设备,在这个流程中数据只经历了两次拷贝,即将磁盘数据拷贝至内核,再将内核数据
拷贝至网卡,相较于传统的四次拷贝,减少了两次CPU的上下文切换,对效率有很大的提高; 