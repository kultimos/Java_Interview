# 什么是幂等,如何解决幂等性的问题
  幂等一般指的是方法被多次重复执行时所产生的影响和第一次产生的影响是相同的,之所以要考虑幂等性问题是因为在网络通信里存在两种行为可能会导致接口被重复调用
  - 用户的重复提交或恶意攻击会导致这个请求被多次重复执行
  - 在分布式网络架构中,为了避免网络通信导致的数据丢失,在服务之间进行通信的时候都会设计超时重试的机制,而这种机制有可能导致服务端接口被重复调用;
  所以在程序设计中,对于数据变更类的接口,需要保证其幂等性,而幂等性的核心思想就是保证这个接口的执行结果只能影响一次,后续即使再次调用也不能对数据产生影响;

  常见的解决方案:
  - 为每一个操作生成唯一标识符,并在执行操作前检查该标识符是否已经存在,如果已经存在则认为操作已经执行过,避免重复执行;(利用Mysql的唯一约束、redis的setNx,来避免mq的消息重复消费)
  - 乐观锁,比如为了保证订单更新的幂等性,每次订单被修改时,都需要比较当前数据库中的版本号和前端传地过来的版本号是否一致,若一致才更新,否则认为已经更新过,避免重复更新;
  